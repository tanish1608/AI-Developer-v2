import React, { useState } from "react";
import TaskForm from "./TaskForm";
import TaskList from "./TaskList";
import TaskFilter from "./TaskFilter";

function AppWrapper() {
const [tasks, setTasks] = useState([]);
const [filter, setFilter] = useState("all");

const containerStyle = {
padding: "20px",
maxWidth: "800px",
margin: "0 auto",
};

const handleTaskSubmit = (task) => {
setTasks([...tasks, task]);
};

const handleTaskToggle = (index) => {
const updatedTasks = [...tasks];
updatedTasks[index].completionStatus = !updatedTasks[index].completionStatus;
setTasks(updatedTasks);
};

const handleTaskDelete = (index) => {
const updatedTasks = [...tasks];
updatedTasks.splice(index, 1);
setTasks(updatedTasks);
};

const handleFilterChange = (filter) => {
setFilter(filter);
};

const filteredTasks = tasks.filter((task) => {
if (filter === "all") return true;
if (filter === "completed") return task.completionStatus;
if (filter === "active") return !task.completionStatus;
});

return (
<div style={containerStyle}>
<TaskForm onTaskSubmit={handleTaskSubmit} />
<TaskFilter onFilterChange={handleFilterChange} />
<TaskList
tasks={filteredTasks}
onTaskToggle={handleTaskToggle}
onTaskDelete={handleTaskDelete}
/>
</div>
);
}

export default AppWrapper;